<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Loops in R</title>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />
<link id="font-awesome-1-attachment" rel="attachment" href="site_libs/font-awesome-6.4.2/fonts/fontawesome-webfont.ttf"/>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="assets/lab.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
#TOC {
  display: none !important;
}
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">






</div>


<!-- rmd lab header -->
<p><br></p>
<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>In programming languages loop structures, either with or without conditions, are used to repeat commands over multiple entities. <code>for</code> and <code>while</code> loops as well as <code>if-else</code> statements are also often used in R, but not as often as in many other programming languages. The reason for this is that many needs of the loops are already addressed using vectorization or via apply functions.</p>
<p>This means that we can multiply all values in a vector in R by two by calling</p>
<pre class="r"><code>vec.a &lt;- c(1, 2, 3, 4)
vec.a * 2</code></pre>
<pre><code>## [1] 2 4 6 8</code></pre>
<p>In many other and languages as well as in R, you can also create this with a loop instead</p>
<pre class="r"><code>for (i in seq_along(vec.a)) {
  vec.a[i] &lt;- vec.a[i] * 2
}

vec.a</code></pre>
<pre><code>## [1] 2 4 6 8</code></pre>
<p>This is far less efficient and not by any means easier to type and we hence tend to avoid loops when possible.</p>
<details>
<summary>
<strong>Extra: Demonstration of time lapse comparison between vectorization and loop</strong>
</summary>
<p>Let us compare the time of execution of the vectorized version (vector with 10,000 elements):</p>
<pre class="r"><code>vec &lt;- c(1:1000000)
ptm &lt;- proc.time()
vec &lt;- vec + 1
proc.time() - ptm # vectorized</code></pre>
<pre><code>##    user  system elapsed 
##   0.002   0.001   0.003</code></pre>
<p>–</p>
<p>to the loop version:</p>
<pre class="r"><code>vec &lt;- c(1:1000000)
ptm &lt;- proc.time()
for (i in seq_along(vec)) {
  vec[i] &lt;- vec[i] + 1
}
proc.time() - ptm # for-loop</code></pre>
<pre><code>##    user  system elapsed 
##   0.087   0.001   0.088</code></pre>
</details>
<p></br></p>
<p>After this exercise you should know:</p>
<ul>
<li>What are the most common loop structures in R</li>
<li>Some common alternatives to using loops in R</li>
<li>How one can convert a short script to a function.</li>
<li>Use that new function in R.</li>
</ul>
</div>
<div id="exercises" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Exercises</h1>
<ol style="list-style-type: decimal">
<li>Create a 100000 by 10 matrix with the numbers 1:1000000. Make a for-loop that calculates the sum for each row of the matrix. Verify that your results are consistent with what you obtain with the <code>apply()</code> function to calculate row sums as well as with the built-in <code>rowSums()</code> function. These functions were discussed in the lecture <strong>Matrices, data frames, and lists</strong>.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407540293" aria-expanded="false" aria-controls="acc2025120407540293">
</button>
</p>
<div id="acc2025120407540293" class="collapse">
<div class="card card-body">
<pre class="r"><code>X &lt;- matrix(1:1000000, nrow = 100000, ncol = 10)
for.sum &lt;- vector(mode = &#39;numeric&#39;)
# Note that this loop is much faster if you outside the loop create an empty vector of the right size.
# rwmeans &lt;- vector(&#39;numeric&#39;, 100000)
for (i in 1:nrow(X)) {
    for.sum[i] &lt;- sum(X[i,])
}
head(for.sum)</code></pre>
<pre><code>## [1] 4500010 4500020 4500030 4500040 4500050 4500060</code></pre>
<pre class="r"><code>app.sum &lt;- apply(X, MARGIN = 1, sum)
head(app.sum)</code></pre>
<pre><code>## [1] 4500010 4500020 4500030 4500040 4500050 4500060</code></pre>
<pre class="r"><code>rowSums.sum &lt;- rowSums(X)
head(rowSums.sum)</code></pre>
<pre><code>## [1] 4500010 4500020 4500030 4500040 4500050 4500060</code></pre>
<pre class="r"><code>identical(for.sum, app.sum)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>identical(for.sum, rowSums.sum)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>identical(for.sum, as.integer(rowSums.sum))</code></pre>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>As you saw in the lecture, another common loop structure that is used is the while loop, which functions much like a for loop, but will only run as long as a test condition is TRUE. Modify your for loop from exercise 1 and make it into a while loop.
<details>
<summary>
<strong>Tip?</strong>
</summary>
You can use the number of rows in the matrix as a condition for the while loop.
</details></li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407542628" aria-expanded="false" aria-controls="acc2025120407542628">
</button>
</p>
<div id="acc2025120407542628" class="collapse">
<div class="card card-body">
<pre class="r"><code>x &lt;- 1
while.sum &lt;- vector(&quot;numeric&quot;, 100000)
while (x &lt;= 100000) {
  while.sum[x] &lt;- sum(X[x,])
  x &lt;- x + 1
}
head(while.sum)</code></pre>
<pre><code>## [1] 4500010 4500020 4500030 4500040 4500050 4500060</code></pre>
</div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Create a data frame with two numeric and one character columns. Write a loop that loops over the columns and reports the sum of the column values if it is numeric and the total number of characters if it is a character vector.
<details>
<summary>
<strong>Tip?</strong>
</summary>
To count number of characters, you can use <code>nchar</code> function.
</details></li>
</ol>
<ul>
<li>Do it first using only if clauses</li>
</ul>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407549767" aria-expanded="false" aria-controls="acc2025120407549767">
</button>
</p>
<div id="acc2025120407549767" class="collapse">
<div class="card card-body">
<pre class="r"><code>vector1 &lt;- 1:10
vector2 &lt;- c(&quot;Odd&quot;, &quot;Loop&quot;, letters[1:8])
vector3 &lt;- rnorm(10, sd = 10)
dfr1 &lt;- data.frame(vector1, vector2, vector3, stringsAsFactors = FALSE)
sum.vec &lt;- vector()
for(i in 1:ncol(dfr1)) {
  if (is.numeric(dfr1[,i])) {
      sum.vec[i] &lt;- sum(dfr1[,i])
  } 
  if (is.character(dfr1[,i])) {
      sum.vec[i] &lt;- sum(nchar(dfr1[,i]))
  }
}
sum.vec</code></pre>
<pre><code>## [1] 55.00000 15.00000 29.66217</code></pre>
</div>
</div>
<ul>
<li>And then modify the loop to use if-else clauses</li>
</ul>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407540843" aria-expanded="false" aria-controls="acc2025120407540843">
</button>
</p>
<div id="acc2025120407540843" class="collapse">
<div class="card card-body">
<pre class="r"><code>sum.vec &lt;- vector()
for(i in 1:ncol(dfr1)) {
  if (is.numeric(dfr1[,i])) {
      sum.vec[i] &lt;- sum(dfr1[,i])
  } else {
      sum.vec[i] &lt;- sum(nchar(dfr1[,i]))
  }
}
sum.vec</code></pre>
<pre><code>## [1] 55.00000 15.00000 29.66217</code></pre>
</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>In question 3 you generated a loop to go over a data frame. Try to convert this code to a function in R. The function should take a single data frame name as argument.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407540060" aria-expanded="false" aria-controls="acc2025120407540060">
</button>
</p>
<div id="acc2025120407540060" class="collapse">
<div class="card card-body">
<pre class="r"><code>dfr.info &lt;- function(dfr) {
  sum.vec &lt;- vector()
  for (i in 1:ncol(dfr)) {
    if (is.numeric(dfr[,i])) {
        sum.vec[i] &lt;- sum(dfr[,i])
    } else {
        sum.vec[i] &lt;- sum(nchar(dfr[,i]))
    }
  }
  sum.vec
}
#Execute the function

dfr.info(dfr1)</code></pre>
<pre><code>## [1] 55.00000 15.00000 29.66217</code></pre>
</div>
</div>
<ol start="5" style="list-style-type: decimal">
<li><strong>Extra exercise-loops</strong>. A variation of exercise 3: Create a data frame with three columns: one numeric, one logical, and one character vector. Write a loop that loops over the columns and reports the sum of the column values if it is numeric, the total number of <code>TRUE</code>s when is logical and the total number of characters if it is a character vector.
<details>
<summary>
<strong>Tips?</strong>
</summary>
To count number of characters, you can use <code>nchar</code> function. <br/>
To count number of <code>TRUE</code> values, you can use <code>sum</code> function.<br/>
Inside the loop, you may want to use the if-else-if structure.<br/>
</details></li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407544752" aria-expanded="false" aria-controls="acc2025120407544752">
</button>
</p>
<div id="acc2025120407544752" class="collapse">
<div class="card card-body">
<pre class="r"><code>vector1 &lt;- 1:10
vector2 &lt;- c(&quot;Odd&quot;, &quot;Loop&quot;, letters[1:8])
vector3 &lt;- c(TRUE, FALSE, TRUE, TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE)
dfr2 &lt;- data.frame(vector1, vector2, vector3, stringsAsFactors = FALSE)
sum.vec &lt;- vector()
for(i in 1:ncol(dfr2)) {
  if (is.numeric(dfr2[,i])) {
      sum.vec[i] &lt;- sum(dfr2[,i])
  } else if (is.logical(dfr2[,i])) {
      sum.vec[i] &lt;- sum(dfr2[,i])
  } else {
      sum.vec[i]&lt;-sum(nchar(dfr2[,i]))
  }
}
sum.vec</code></pre>
<pre><code>## [1] 55 15  6</code></pre>
</div>
</div>
<ol start="6" style="list-style-type: decimal">
<li><strong>Extra exercise-functions</strong>. Create a function that will convert time in hours to time in minutes. The function should take a single argument, a numeric value of hours, and return a numeric value of minutes. Add an if clause inside of the function that will stop running the function and give an error if the hours provided are negative.
<details>
<summary>
<strong>Tip?</strong>
</summary>
You can read the documentation of the <code>stop()</code> function by typing <code>?stop</code> in the R console.
</details></li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2025120407541954" aria-expanded="false" aria-controls="acc2025120407541954">
</button>
</p>
<div id="acc2025120407541954" class="collapse">
<div class="card card-body">
<pre class="r"><code>hours_to_mins &lt;- function(hours) {
  if (hours &lt; 0) {
    stop(&quot;Hours cannot be negative&quot;)
  }
  minutes &lt;- hours * 60
  return(minutes)
}

hours_to_mins(3.2)
#Now test it with a negative hour value
hours_to_mins(-3.26)</code></pre>
<pre><code>## Error in hours_to_mins(-3.26): Hours cannot be negative</code></pre>
<pre><code>## [1] 192</code></pre>
</div>
</div>
<ol start="6" style="list-style-type: decimal">
<li>In all loops that we tried out we have created the variable where the output is saved outside the loop. Why is this?
</br>
</br></li>
</ol>
</div>
<div id="extra-material" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Extra material</h1>
<p>Do you want to expand on loops, if-else clauses, and functions? Here a bit more extra material!</p>
<details>
<summary>
<strong>Extra material: The switch function</strong>
</summary>
<p>If-else clauses operate on logical values. What if we want to take decisions based on non-logical values? Well, if-else will still work by evaluating a number of comparisons, but we can also use <strong>switch</strong>:</p>
<pre class="r"><code>switch.demo &lt;- function(x) {
  switch(class(x),
         logical = cat(&#39;logical\n&#39;),
         numeric = cat(&#39;Numeric\n&#39;),
         factor = cat(&#39;Factor\n&#39;),
         cat(&#39;Undefined\n&#39;)
         )
}
switch.demo(x=TRUE)
switch.demo(x=15)
switch.demo(x=factor(&#39;a&#39;))
switch.demo(data.frame())</code></pre>
<pre><code>## logical
## Numeric
## Factor
## Undefined</code></pre>
</details>
<details>
<summary>
<strong>Extra material: The ellipsis argument trick</strong>
</summary>
<p>What if the authors of, e.g. plot.something wrapper forgot about the <code>...</code>?</p>
<pre class="r"><code>my.plot &lt;- function(x, y) { # Passing downstrem
  plot(x, y, las=1, cex.axis=.8, ...)
}
# you can update the function adding the ellipsis like this
formals(my.plot) &lt;- c(formals(my.plot), alist(... = ))
my.plot(1, 1, col=&#39;red&#39;, pch=19)</code></pre>
<p><img src="lab_loops_files/figure-html/fns.3dots.trick-1.png" width="480" style="display: block; margin: auto auto auto 0;" /></p>
</details>
<details>
<summary>
<strong>Extra material: Infix notations</strong>
</summary>
<p>Operators like <code>+</code>, <code>-</code> or <code>*</code> are using the so-called <strong>infix</strong> functions, where the function name is between arguments. We can define our own:</p>
<pre class="r"><code>`%p%` &lt;- function(x, y) {
  paste(x,y)
}
&#39;a&#39; %p% &#39;b&#39;</code></pre>
<pre><code>## [1] &quot;a b&quot;</code></pre>
</details>
<!--
7. <i class="fas fa-exclamation-circle"></i> **Advanced:** At the lecture an approach to calculate factorials were implemented using recursion (function calling itself). Here we instead will have a go at generating Fibonacci numbers. A fibonacci number is part of a series of number with the following properties:

The first two numbers in the Fibonacci sequence are either 1 and 1, or 0 and 1, depending on the chosen starting point of the sequence, and each subsequent number is the sum of the previous two. Hence:

`0, 1, 1, 2, 3, 5, 8, 13, 21, ...`

or

`1, 1, 2, 3, 5, 8, 13, 21, ...`

Try to generate such a series using a recursive approach.
-->
</div>


<footer class="footer">
<div class="container footer-container">
<div class="row">

<div class="footer-left col-sm-6">
<p class="small">
<b>2024</b> • <a href="https://nbis.se/" target="_blank">NBIS</a> • <a href="https://www.scilifelab.se/" target="_blank">SciLifeLab</a>
</p>
</div>

<div class="footer-right col-sm-6">
<p>
<span>
  <span class="footericon" style="padding-right:4px; padding-left:4px">
    <a href="https://nbis.se/" target="_blank">
      <svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 496 512"><path d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"></path>
      </svg>
    </a>
    </span>
    <span class="footericon" style="padding-right:4px; padding-left:4px">
      <a href="https://twitter.com/NBISwe" target="_blank"><svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
    </svg>
    </a>
    </span>
    <span class="footericon" style="padding-left:4px">
      <a href="https://www.linkedin.com/company/nbisweden/" target="_blank">
        <svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
        </svg>
    </a>
    </span>
  </span>
</p>
</div>

</div>
</div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
