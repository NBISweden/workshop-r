<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Matrices, Lists and Dataframes</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link id="font-awesome-1-attachment" rel="attachment" href="site_libs/font-awesome-5.1.0/fonts/fontawesome-webfont.ttf"/>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="assets/lab.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
#TOC {
  display: none !important;
}
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img src="assets/logo.svg" id="logo" style="height:30px;margin:0;"/></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="home_schedule.html">Schedule</a>
</li>
<li>
  <a href="home_content.html">Content</a>
</li>
<li>
  <a href="home_precourse.html">Precourse</a>
</li>
<li>
  <a href="home_info.html">Info</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Matrices, Lists and Dataframes</h1>
<h3 class="subtitle">R Programming Foundation for Life Scientists</h3>

</div>


<!-- rmd lab header -->
<p><br></p>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>A data set that have more than one dimension is conceptually hard to
store as a vector. For two-dimensional data set the solution to this
is to instead use matrices or data frames. As with vectors all values
in a matrix has to be of the same type (eg. you can not mix for
example characters and numerics in the same matrix). For data frames
this is not a requirement and different columns can have different
modes, but all columns in a data frame have the same number of
entries. In addition to these R also have objects named lists that can
store any type of data set and are not restricted by types or dimensions.</p>
<p>In this exercise you will learn how to:</p>
<ul>
<li>Create and work with matrices, data frames and lists<br />
</li>
<li>Perform basic math operator on matrices<br />
</li>
<li>Use functions to summarize information from data frames<br />
</li>
<li>Extract subsets of data from matrices, data frames and lists<br />
</li>
<li>Create S3 object from a list</li>
</ul>
</div>
<div id="matrices" class="section level1">
<h1><span class="header-section-number">2</span> Matrices</h1>
<p>The command to create a matrix in R is <code>matrix()</code>.
As input it takes a vector of values, the number of
rows and the number of columns.</p>
<pre class="r"><code>X &lt;- matrix(1:12, nrow = 4, ncol = 3)
X</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<p>Note that if one only specify the number of rows or columns the it
will infer the size of the matrix automatically using the size of
vector and the option given. The default way of filling the matrix is
column-wise, so the first values from the vector ends up in column 1
of the matrix. If you instead wants to fill the matrix row by row you
can set the byrow flag to TRUE.</p>
<pre class="r"><code>X &lt;- matrix(1:12, nrow = 4, ncol = 3, byrow = TRUE)
X</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12</code></pre>
<p>Subsetting a matrix is done the same way as for vectors, but you have
more than one dimension to work with. So you specify the rows and
column needed.</p>
<pre class="r"><code>X[1,2]</code></pre>
<pre><code>## [1] 2</code></pre>
<p>If one wants all values in a column or a row this can be specified by
leaving the other dimension empty, hence this code will print all
values in the second column.</p>
<pre class="r"><code>X[,2]</code></pre>
<pre><code>## [1]  2  5  8 11</code></pre>
<p>Note that if the retrieved part of a matrix can be represented as a
vector (eg one of the dimension have the length 1) R will convert it
to a vector otherwise it will still be a matrix.</p>
<div id="exercise" class="section level2">
<h2><span class="header-section-number">2.1</span> Exercise</h2>
<p><i class="fas fa-clipboard-list"></i> Create a matrix containing 1:12 as shown similar to the matrix X above.</p>
<ol style="list-style-type: decimal">
<li>How do find out the length and the mode of the matrix?</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312094743" aria-expanded="false" aria-controls="acc2020092312094743">
</button>
</p>
<div id="acc2020092312094743" class="collapse">
<div class="card card-body">
<pre class="r"><code>mode(X)
length(X)</code></pre>
<pre><code>## [1] &quot;numeric&quot;
## [1] 12</code></pre>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Extract all the values in the matrix that is larger than 6.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312097098" aria-expanded="false" aria-controls="acc2020092312097098">
</button>
</p>
<div id="acc2020092312097098" class="collapse">
<div class="card card-body">
<pre class="r"><code>X[X&gt;6]</code></pre>
<pre><code>## [1]  7 10  8 11  9 12</code></pre>
</div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Swap the positions of column 1 and 3 in the matrix X</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312096920" aria-expanded="false" aria-controls="acc2020092312096920">
</button>
</p>
<div id="acc2020092312096920" class="collapse">
<div class="card card-body">
<pre class="r"><code>X[,c(3,2,1)]</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    3    2    1
## [2,]    6    5    4
## [3,]    9    8    7
## [4,]   12   11   10</code></pre>
</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Add a vector with three zeros as a fifth row to the matrix</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312090627" aria-expanded="false" aria-controls="acc2020092312090627">
</button>
</p>
<div id="acc2020092312090627" class="collapse">
<div class="card card-body">
<pre class="r"><code>X.2 &lt;- rbind(X, rep(0, 3))
X.2</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12
## [5,]    0    0    0</code></pre>
</div>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Replace all values the first two columns in your matrix with <code>NA</code>.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312096225" aria-expanded="false" aria-controls="acc2020092312096225">
</button>
</p>
<div id="acc2020092312096225" class="collapse">
<div class="card card-body">
<pre class="r"><code>X[,1:2] &lt;- NA
X</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   NA   NA    3
## [2,]   NA   NA    6
## [3,]   NA   NA    9
## [4,]   NA   NA   12</code></pre>
</div>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Replace all values in the matrix with 0 and convert it to a vector</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312099785" aria-expanded="false" aria-controls="acc2020092312099785">
</button>
</p>
<div id="acc2020092312099785" class="collapse">
<div class="card card-body">
<pre class="r"><code>X[] &lt;- 0
as.vector(X)</code></pre>
<pre><code>##  [1] 0 0 0 0 0 0 0 0 0 0 0 0</code></pre>
</div>
</div>
<ol start="7" style="list-style-type: decimal">
<li>In the the earlier exercises, you created a vector with the names of the type Geno_a_1, Geno_a_2, Geno_a_3, Geno_b_1, Geno_b_2…, Geno_s_3 using vectors. In today’s lecture, a function named <code>outer()</code> that generates matrices was mentioned. Try to generate the same vector as yesterday using this function instead. The <code>outer()</code> function is very powerful, but can be hard to wrap you head around, so try to follow the logic, perhaps by creating a simple example to start with.</li>
</ol>
<pre class="r"><code>letnum &lt;- outer(paste(&quot;Geno&quot;,letters[1:19], sep = &quot;_&quot;), 1:3, paste, sep = &quot;_&quot;)
class(letnum)
sort(as.vector(letnum))</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot; 
##  [1] &quot;Geno_a_1&quot; &quot;Geno_a_2&quot; &quot;Geno_a_3&quot; &quot;Geno_b_1&quot; &quot;Geno_b_2&quot; &quot;Geno_b_3&quot;
##  [7] &quot;Geno_c_1&quot; &quot;Geno_c_2&quot; &quot;Geno_c_3&quot; &quot;Geno_d_1&quot; &quot;Geno_d_2&quot; &quot;Geno_d_3&quot;
## [13] &quot;Geno_e_1&quot; &quot;Geno_e_2&quot; &quot;Geno_e_3&quot; &quot;Geno_f_1&quot; &quot;Geno_f_2&quot; &quot;Geno_f_3&quot;
## [19] &quot;Geno_g_1&quot; &quot;Geno_g_2&quot; &quot;Geno_g_3&quot; &quot;Geno_h_1&quot; &quot;Geno_h_2&quot; &quot;Geno_h_3&quot;
## [25] &quot;Geno_i_1&quot; &quot;Geno_i_2&quot; &quot;Geno_i_3&quot; &quot;Geno_j_1&quot; &quot;Geno_j_2&quot; &quot;Geno_j_3&quot;
## [31] &quot;Geno_k_1&quot; &quot;Geno_k_2&quot; &quot;Geno_k_3&quot; &quot;Geno_l_1&quot; &quot;Geno_l_2&quot; &quot;Geno_l_3&quot;
## [37] &quot;Geno_m_1&quot; &quot;Geno_m_2&quot; &quot;Geno_m_3&quot; &quot;Geno_n_1&quot; &quot;Geno_n_2&quot; &quot;Geno_n_3&quot;
## [43] &quot;Geno_o_1&quot; &quot;Geno_o_2&quot; &quot;Geno_o_3&quot; &quot;Geno_p_1&quot; &quot;Geno_p_2&quot; &quot;Geno_p_3&quot;
## [49] &quot;Geno_q_1&quot; &quot;Geno_q_2&quot; &quot;Geno_q_3&quot; &quot;Geno_r_1&quot; &quot;Geno_r_2&quot; &quot;Geno_r_3&quot;
## [55] &quot;Geno_s_1&quot; &quot;Geno_s_2&quot; &quot;Geno_s_3&quot;</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>Create two different 2 by 2 matrices named A and B. A should contain the values 1-4 and B the values 5-8. Try out the following commands and by looking at the results see if you can figure out what is going on.</li>
</ol>
<pre><code>A. A * B
B. A / B
C. A %x% B
D. A + B
E. A - B
F. A == B</code></pre>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312097913" aria-expanded="false" aria-controls="acc2020092312097913">
</button>
</p>
<div id="acc2020092312097913" class="collapse">
<div class="card card-body">
<pre class="r"><code>A &lt;- matrix(1:4, ncol = 2, nrow = 2)
B &lt;- matrix(5:8, ncol = 2, nrow = 2)
A
B

A * B
A / B
A %x% B
A + B
A - B
A == B</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
##      [,1] [,2]
## [1,]    5    7
## [2,]    6    8
##      [,1] [,2]
## [1,]    5   21
## [2,]   12   32
##           [,1]      [,2]
## [1,] 0.2000000 0.4285714
## [2,] 0.3333333 0.5000000
##      [,1] [,2] [,3] [,4]
## [1,]    5    7   15   21
## [2,]    6    8   18   24
## [3,]   10   14   20   28
## [4,]   12   16   24   32
##      [,1] [,2]
## [1,]    6   10
## [2,]    8   12
##      [,1] [,2]
## [1,]   -4   -4
## [2,]   -4   -4
##       [,1]  [,2]
## [1,] FALSE FALSE
## [2,] FALSE FALSE</code></pre>
</div>
</div>
<ol start="9" style="list-style-type: decimal">
<li>Generate a 10 by 10 matrix with random numbers. Add row and column names and calculate mean and median over rows and save these in a new matrix.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312097942" aria-expanded="false" aria-controls="acc2020092312097942">
</button>
</p>
<div id="acc2020092312097942" class="collapse">
<div class="card card-body">
<pre class="r"><code>e &lt;- rnorm(n = 100)
E &lt;- matrix(e, nrow = 10, ncol = 10)
colnames(E) &lt;- LETTERS[1:10]
rownames(E) &lt;- colnames(E)
E.means &lt;- rowMeans(E)
E.medians &lt;- apply(E, MARGIN = 1, median)
E.mm &lt;- rbind(E.means, E.medians)
E.mm</code></pre>
<pre><code>##                    A         B         C           D         E          F
## E.means   -0.3951024 0.5702087 0.5009273 -0.08966482 0.2148812 -0.4781583
## E.medians -0.3932489 0.6191871 0.5644161 -0.50809711 0.3037247 -0.1300985
##                   G         H          I         J
## E.means   0.2316574 0.3458559 -0.1400414 0.1940123
## E.medians 0.4924283 0.2112477 -0.2970033 0.1046158</code></pre>
</div>
</div>
</div>
</div>
<div id="dataframes" class="section level1">
<h1><span class="header-section-number">3</span> Dataframes</h1>
<p>Even though vectors are at the very base of R usage, data frames are central to R as the most common ways to import data into R (<code>read.table()</code>) will create a dataframe. Even though a dataframe can itself contain another dataframe, by far the most common dataframes consists of a set of equally long vectors. As dataframes can contain several different data types the command <code>str()</code> is very useful to run on dataframes.</p>
<pre class="r"><code>vector1 &lt;- 1:10
vector2 &lt;- letters[1:10]
vector3 &lt;- rnorm(10, sd = 10)
dfr &lt;- data.frame(vector1, vector2, vector3)
str(dfr)</code></pre>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ vector1: int  1 2 3 4 5 6 7 8 9 10
##  $ vector2: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ vector3: num  0.781 -0.716 6.725 -0.72 -3.249 ...</code></pre>
<p>In the above example, we can see that the dataframe <strong>dfr</strong> contains 10 observations for three variables that all have different modes, column 1 is an integer vector, column 2 a vector with <strong>factors</strong> and column 3 a numeric vector. It is noteworthy that the second column is a factor even though we just gave it a character vector.</p>
<div id="exercise-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Exercise</h2>
<ol style="list-style-type: decimal">
<li>Figure out what is going on with the second column in <strong>dfr</strong> dataframe described above and modify the creation of the dataframe so that the second column is stored as a character vector rather than a factor. Hint: Check the help for <code>data.frame</code> to find an argument that turns off the factor conversion.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312093786" aria-expanded="false" aria-controls="acc2020092312093786">
</button>
</p>
<div id="acc2020092312093786" class="collapse">
<div class="card card-body">
<pre class="r"><code>dfr &lt;- data.frame(vector1, vector2, vector3, stringsAsFactors = FALSE)
str(dfr)</code></pre>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ vector1: int  1 2 3 4 5 6 7 8 9 10
##  $ vector2: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ vector3: num  0.781 -0.716 6.725 -0.72 -3.249 ...</code></pre>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>One can select columns from a data frame using either the name or the position. Use both methods to print the last two columns from the <strong>dfr</strong> data frame.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312093798" aria-expanded="false" aria-controls="acc2020092312093798">
</button>
</p>
<div id="acc2020092312093798" class="collapse">
<div class="card card-body">
<pre class="r"><code>dfr[,2:3]
dfr[,c(&quot;vector2&quot;, &quot;vector3&quot;)]</code></pre>
<pre><code>##    vector2    vector3
## 1        a  0.7812828
## 2        b -0.7162025
## 3        c  6.7246291
## 4        d -0.7203774
## 5        e -3.2491974
## 6        f -2.4204168
## 7        g 13.6634204
## 8        h -8.6038328
## 9        i -6.4682849
## 10       j -4.7221088
##    vector2    vector3
## 1        a  0.7812828
## 2        b -0.7162025
## 3        c  6.7246291
## 4        d -0.7203774
## 5        e -3.2491974
## 6        f -2.4204168
## 7        g 13.6634204
## 8        h -8.6038328
## 9        i -6.4682849
## 10       j -4.7221088</code></pre>
</div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Print all letters in the <strong>vector2</strong> column of the data frame where the <strong>vector3</strong> column has a positive value.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312099115" aria-expanded="false" aria-controls="acc2020092312099115">
</button>
</p>
<div id="acc2020092312099115" class="collapse">
<div class="card card-body">
<pre class="r"><code>dfr[dfr$vector3&gt;0,2]
dfr$vector2[dfr$vector3&gt;0]</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;c&quot; &quot;g&quot;
## [1] &quot;a&quot; &quot;c&quot; &quot;g&quot;</code></pre>
</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Create a new vector combining the all columns of <strong>dfr</strong> separated by a underscore.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312092579" aria-expanded="false" aria-controls="acc2020092312092579">
</button>
</p>
<div id="acc2020092312092579" class="collapse">
<div class="card card-body">
<pre class="r"><code>paste(dfr$vector1, dfr$vector2, dfr$vector3, sep = &quot;_&quot;)</code></pre>
<pre><code>##  [1] &quot;1_a_0.781282822882989&quot;  &quot;2_b_-0.716202527221998&quot; &quot;3_c_6.72462910869006&quot;  
##  [4] &quot;4_d_-0.720377378419602&quot; &quot;5_e_-3.24919735389811&quot;  &quot;6_f_-2.42041675813989&quot; 
##  [7] &quot;7_g_13.66342038143&quot;     &quot;8_h_-8.60383279384259&quot;  &quot;9_i_-6.46828485764313&quot; 
## [10] &quot;10_j_-4.72210880073458&quot;</code></pre>
</div>
</div>
<ol start="5" style="list-style-type: decimal">
<li>There is a dataframe of car information that comes with the base installation of R. Have a look at this data by typing <code>mtcars</code>. How many rows and columns does it have?</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312095644" aria-expanded="false" aria-controls="acc2020092312095644">
</button>
</p>
<div id="acc2020092312095644" class="collapse">
<div class="card card-body">
<pre class="r"><code>dim(mtcars)
ncol(mtcars)
nrow(mtcars)</code></pre>
<pre><code>## [1] 32 11
## [1] 11
## [1] 32</code></pre>
</div>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Re-arrange the row names of this dataframe and save as a vector.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312093274" aria-expanded="false" aria-controls="acc2020092312093274">
</button>
</p>
<div id="acc2020092312093274" class="collapse">
<div class="card card-body">
<pre class="r"><code>car.names &lt;- sample(row.names(mtcars))</code></pre>
</div>
</div>
<ol start="7" style="list-style-type: decimal">
<li>Create a dataframe containing the vector from the previous question and two vectors with random numbers named random1 and random2.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312090794" aria-expanded="false" aria-controls="acc2020092312090794">
</button>
</p>
<div id="acc2020092312090794" class="collapse">
<div class="card card-body">
<pre class="r"><code>random1 &lt;- rnorm(length(car.names))
random2 &lt;- rnorm(length(car.names))
mtcars2 &lt;- data.frame(car.names, random1, random2)
mtcars2</code></pre>
<pre><code>##              car.names     random1     random2
## 1             Merc 280  2.40897302  1.41855346
## 2         Ferrari Dino  0.42450413  0.69551948
## 3          Merc 450SLC  0.28823023 -1.27439583
## 4             Fiat 128 -2.22391850  1.01609466
## 5        Porsche 914-2  1.69366262  0.27686978
## 6            Mazda RX4 -0.09617112  0.45142186
## 7         Lotus Europa  0.58323480 -1.01863225
## 8           Duster 360 -0.80565293 -1.14772651
## 9       Toyota Corolla  0.16757823 -0.81375428
## 10           Fiat X1-9 -2.20376393  0.17388301
## 11   Chrysler Imperial -0.09826257  0.24291378
## 12    Dodge Challenger -0.10524808  0.45972071
## 13           Merc 240D  0.93340413  1.20654542
## 14          Camaro Z28 -0.72012999  0.59368585
## 15            Merc 230  1.15230040  0.53198989
## 16          Merc 450SE -0.20849322  0.88818957
## 17           Merc 280C -2.00663669 -0.35193810
## 18          Volvo 142E  0.13911982  0.49065087
## 19      Hornet 4 Drive -2.73201230 -1.05578697
## 20 Lincoln Continental -0.28084161  0.95167885
## 21    Pontiac Firebird  1.81994962 -0.58405377
## 22             Valiant  0.08928063  1.80437110
## 23         AMC Javelin -0.46003718 -0.32257223
## 24   Hornet Sportabout -1.52904291  0.76298466
## 25       Mazda RX4 Wag  1.11356924 -0.51170410
## 26  Cadillac Fleetwood -0.20913363  1.06717436
## 27       Toyota Corona  1.72941276  0.50013261
## 28      Ford Pantera L -0.35694179  1.36617545
## 29          Datsun 710  0.64839161 -1.68948893
## 30         Honda Civic  1.03355552 -0.84174332
## 31          Merc 450SL  1.77663864  1.19196362
## 32       Maserati Bora  0.50251214 -0.05418128</code></pre>
</div>
</div>
<ol start="8" style="list-style-type: decimal">
<li>Now you have two dataframes that both contains information on a set of cars. A collaborator asks you to create a new dataframe with all this information combined. Create a merged dataframe ensuring that rows match correctly.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312099077" aria-expanded="false" aria-controls="acc2020092312099077">
</button>
</p>
<div id="acc2020092312099077" class="collapse">
<div class="card card-body">
<pre class="r"><code>mt.merged &lt;- merge(mtcars, mtcars2, by.x = &quot;row.names&quot;, by.y = &quot;car.names&quot;)
mt.merged</code></pre>
<pre><code>##              Row.names  mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## 1          AMC Javelin 15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## 2   Cadillac Fleetwood 10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## 3           Camaro Z28 13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## 4    Chrysler Imperial 14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## 5           Datsun 710 22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## 6     Dodge Challenger 15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## 7           Duster 360 14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## 8         Ferrari Dino 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## 9             Fiat 128 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## 10           Fiat X1-9 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## 11      Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## 12         Honda Civic 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## 13      Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## 14   Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## 15 Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## 16        Lotus Europa 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## 17       Maserati Bora 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## 18           Mazda RX4 21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## 19       Mazda RX4 Wag 21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## 20            Merc 230 22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## 21           Merc 240D 24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## 22            Merc 280 19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## 23           Merc 280C 17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## 24          Merc 450SE 16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## 25          Merc 450SL 17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## 26         Merc 450SLC 15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## 27    Pontiac Firebird 19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## 28       Porsche 914-2 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## 29      Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## 30       Toyota Corona 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## 31             Valiant 18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## 32          Volvo 142E 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
##        random1     random2
## 1  -0.46003718 -0.32257223
## 2  -0.20913363  1.06717436
## 3  -0.72012999  0.59368585
## 4  -0.09826257  0.24291378
## 5   0.64839161 -1.68948893
## 6  -0.10524808  0.45972071
## 7  -0.80565293 -1.14772651
## 8   0.42450413  0.69551948
## 9  -2.22391850  1.01609466
## 10 -2.20376393  0.17388301
## 11 -0.35694179  1.36617545
## 12  1.03355552 -0.84174332
## 13 -2.73201230 -1.05578697
## 14 -1.52904291  0.76298466
## 15 -0.28084161  0.95167885
## 16  0.58323480 -1.01863225
## 17  0.50251214 -0.05418128
## 18 -0.09617112  0.45142186
## 19  1.11356924 -0.51170410
## 20  1.15230040  0.53198989
## 21  0.93340413  1.20654542
## 22  2.40897302  1.41855346
## 23 -2.00663669 -0.35193810
## 24 -0.20849322  0.88818957
## 25  1.77663864  1.19196362
## 26  0.28823023 -1.27439583
## 27  1.81994962 -0.58405377
## 28  1.69366262  0.27686978
## 29  0.16757823 -0.81375428
## 30  1.72941276  0.50013261
## 31  0.08928063  1.80437110
## 32  0.13911982  0.49065087</code></pre>
</div>
</div>
<ol start="9" style="list-style-type: decimal">
<li>Calculate the mean value for the two columns that you added to the <strong>mtcars</strong> data frame. Check out the function <code>colMeans()</code>.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312095888" aria-expanded="false" aria-controls="acc2020092312095888">
</button>
</p>
<div id="acc2020092312095888" class="collapse">
<div class="card card-body">
<pre class="r"><code>colMeans(mtcars2[, c(&quot;random1&quot;, &quot;random2&quot;)])</code></pre>
<pre><code>##    random1    random2 
## 0.07712597 0.20076692</code></pre>
</div>
</div>
<p>Try to modify so you get the mean by cylinder instead. Check out the function <code>aggregate()</code>.</p>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312092838" aria-expanded="false" aria-controls="acc2020092312092838">
</button>
</p>
<div id="acc2020092312092838" class="collapse">
<div class="card card-body">
<pre class="r"><code>aggregate(mtcars2$random1, by=list(mtcars$cyl), FUN=mean)</code></pre>
<pre><code>##   Group.1           x
## 1       4  0.02383823
## 2       6 -0.10786906
## 3       8  0.21149243</code></pre>
</div>
</div>
</div>
</div>
<div id="lists" class="section level1">
<h1><span class="header-section-number">4</span> Lists</h1>
<p>The last data structure that we will explore are lists, which is a very flexible structure. Lists can combine different data structures and they do not have to be of equal dimensions or have
other restrictions. The drawback with a flexible structure is that it requires a bit more work to interact with.</p>
<p>The syntax to create a list is similar to creation of the other data structures in R.</p>
<pre class="r"><code>l &lt;- list(1, 2, 3)</code></pre>
<p>As with the data frames the <code>str()</code> command is very useful for the sometimes fairly complex lists instances.</p>
<pre class="r"><code>str(l)</code></pre>
<pre><code>## List of 3
##  $ : num 1
##  $ : num 2
##  $ : num 3</code></pre>
<p>This example containing only numeric vector is not very exciting example given the flexibility a list structure offers so let’s create a more complex example.</p>
<pre class="r"><code>vec1 &lt;- letters
vec2 &lt;- 1:4
mat1 &lt;- matrix(1:100, nrow = 5)
df1 &lt;- as.data.frame(cbind(10:1, 91:100))
u.2 &lt;- list(vec1, vec2, mat1, df1, l)</code></pre>
<p>As you can see a list can not only contain other data structures, but can also contain other lists.</p>
<p>Looking at the <code>str()</code> command reveals much of the details of a list</p>
<pre class="r"><code>str(u.2)</code></pre>
<pre><code>## List of 5
##  $ : chr [1:26] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ : int [1:4] 1 2 3 4
##  $ : int [1:5, 1:20] 1 2 3 4 5 6 7 8 9 10 ...
##  $ :&#39;data.frame&#39;:    10 obs. of  2 variables:
##   ..$ V1: int [1:10] 10 9 8 7 6 5 4 3 2 1
##   ..$ V2: int [1:10] 91 92 93 94 95 96 97 98 99 100
##  $ :List of 3
##   ..$ : num 1
##   ..$ : num 2
##   ..$ : num 3</code></pre>
<p>With this more complex object, subsetting is slightly trickier than with more the more homogenous objects we have looked at so far.</p>
<p>To look at the first entry of a list one can use the same syntax as for the simpler structures, but note that this will give you a list of length 1 irrespective of the actual type of data structure found.</p>
<pre class="r"><code>u.2[1]
str(u.2[1])</code></pre>
<pre><code>## [[1]]
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;
## 
## List of 1
##  $ : chr [1:26] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<p>If one instead wants to extract the list entry as the structure that is stored, one needs to “dig” deeper in the object.</p>
<pre class="r"><code>u.2[[1]]
str(u.2[[1]])</code></pre>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;
##  chr [1:26] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; ...</code></pre>
<p>This means that the syntax to extract a specific value from a data structure stored in a list can be daunting. Below we extract the second column of a dataframe stored at position 4 in
the list <strong>u.2</strong>.</p>
<pre class="r"><code>u.2[[4]][,2]</code></pre>
<pre><code>##  [1]  91  92  93  94  95  96  97  98  99 100</code></pre>
<div id="exercise-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Exercise</h2>
<ol style="list-style-type: decimal">
<li>Create a list containing 1 character vector, a numeric vector, a character matrix.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312091892" aria-expanded="false" aria-controls="acc2020092312091892">
</button>
</p>
<div id="acc2020092312091892" class="collapse">
<div class="card card-body">
<pre class="r"><code>list.2 &lt;- list(vec1 = c(&quot;hi&quot;, &quot;ho&quot;, &quot;merry&quot;, &quot;christmas&quot;),
               vec2 = 4:19,
               mat1 = matrix(as.character(100:81),nrow = 4))
list.2</code></pre>
<pre><code>## $vec1
## [1] &quot;hi&quot;        &quot;ho&quot;        &quot;merry&quot;     &quot;christmas&quot;
## 
## $vec2
##  [1]  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19
## 
## $mat1
##      [,1]  [,2] [,3] [,4] [,5]
## [1,] &quot;100&quot; &quot;96&quot; &quot;92&quot; &quot;88&quot; &quot;84&quot;
## [2,] &quot;99&quot;  &quot;95&quot; &quot;91&quot; &quot;87&quot; &quot;83&quot;
## [3,] &quot;98&quot;  &quot;94&quot; &quot;90&quot; &quot;86&quot; &quot;82&quot;
## [4,] &quot;97&quot;  &quot;93&quot; &quot;89&quot; &quot;85&quot; &quot;81&quot;</code></pre>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Here is a dataframe.</li>
</ol>
<pre class="r"><code>dfr &lt;- data.frame(letters, LETTERS, letters == LETTERS)</code></pre>
<p>Add this dataframe to the list created above.</p>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312098274" aria-expanded="false" aria-controls="acc2020092312098274">
</button>
</p>
<div id="acc2020092312098274" class="collapse">
<div class="card card-body">
<pre class="r"><code>list.2[[4]] &lt;- dfr</code></pre>
</div>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Remove the the second entry in your list.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312094935" aria-expanded="false" aria-controls="acc2020092312094935">
</button>
</p>
<div id="acc2020092312094935" class="collapse">
<div class="card card-body">
<pre class="r"><code>list.2[-2]</code></pre>
<pre><code>## $vec1
## [1] &quot;hi&quot;        &quot;ho&quot;        &quot;merry&quot;     &quot;christmas&quot;
## 
## $mat1
##      [,1]  [,2] [,3] [,4] [,5]
## [1,] &quot;100&quot; &quot;96&quot; &quot;92&quot; &quot;88&quot; &quot;84&quot;
## [2,] &quot;99&quot;  &quot;95&quot; &quot;91&quot; &quot;87&quot; &quot;83&quot;
## [3,] &quot;98&quot;  &quot;94&quot; &quot;90&quot; &quot;86&quot; &quot;82&quot;
## [4,] &quot;97&quot;  &quot;93&quot; &quot;89&quot; &quot;85&quot; &quot;81&quot;
## 
## [[3]]
##    letters LETTERS letters....LETTERS
## 1        a       A              FALSE
## 2        b       B              FALSE
## 3        c       C              FALSE
## 4        d       D              FALSE
## 5        e       E              FALSE
## 6        f       F              FALSE
## 7        g       G              FALSE
## 8        h       H              FALSE
## 9        i       I              FALSE
## 10       j       J              FALSE
## 11       k       K              FALSE
## 12       l       L              FALSE
## 13       m       M              FALSE
## 14       n       N              FALSE
## 15       o       O              FALSE
## 16       p       P              FALSE
## 17       q       Q              FALSE
## 18       r       R              FALSE
## 19       s       S              FALSE
## 20       t       T              FALSE
## 21       u       U              FALSE
## 22       v       V              FALSE
## 23       w       W              FALSE
## 24       x       X              FALSE
## 25       y       Y              FALSE
## 26       z       Z              FALSE</code></pre>
</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Create a new list that contain 20 sublists, with each entry holding a numeric vector.</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312096195" aria-expanded="false" aria-controls="acc2020092312096195">
</button>
</p>
<div id="acc2020092312096195" class="collapse">
<div class="card card-body">
<pre class="r"><code>vec1 &lt;- rnorm(1000)
list.a &lt;- split(vec1, 1:20)</code></pre>
</div>
</div>
<ol start="5" style="list-style-type: decimal">
<li>How long is your list, and how long are each of the vectors that are part of the list?</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312099541" aria-expanded="false" aria-controls="acc2020092312099541">
</button>
</p>
<div id="acc2020092312099541" class="collapse">
<div class="card card-body">
<pre class="r"><code>length(list.a)
lapply(list.a, FUN = &quot;length&quot;)</code></pre>
<pre><code>## [1] 20
## $`1`
## [1] 50
## 
## $`2`
## [1] 50
## 
## $`3`
## [1] 50
## 
## $`4`
## [1] 50
## 
## $`5`
## [1] 50
## 
## $`6`
## [1] 50
## 
## $`7`
## [1] 50
## 
## $`8`
## [1] 50
## 
## $`9`
## [1] 50
## 
## $`10`
## [1] 50
## 
## $`11`
## [1] 50
## 
## $`12`
## [1] 50
## 
## $`13`
## [1] 50
## 
## $`14`
## [1] 50
## 
## $`15`
## [1] 50
## 
## $`16`
## [1] 50
## 
## $`17`
## [1] 50
## 
## $`18`
## [1] 50
## 
## $`19`
## [1] 50
## 
## $`20`
## [1] 50</code></pre>
</div>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Figure out what the main differences are between the function <code>lapply()</code> and <code>sapply</code> are and use both of them with the function summary on your newly created list. What are the pros and cons of the two approaches to calculate the same summary statistics?</li>
</ol>
<p>
<button class="btn btn-sm btn-primary btn-collapse btn-collapse-normal collapsed" type="button" data-toggle="collapse" data-target="#acc2020092312098485" aria-expanded="false" aria-controls="acc2020092312098485">
</button>
</p>
<div id="acc2020092312098485" class="collapse">
<div class="card card-body">
<pre class="r"><code>lapply(X = list.a, FUN = &quot;summary&quot;)
sapply(X = list.a, FUN = &quot;summary&quot;)</code></pre>
<pre><code>## $`1`
##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -2.023809 -0.684851  0.118986  0.004773  0.768724  2.309323 
## 
## $`2`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.6547 -0.8962 -0.5100 -0.3614  0.3088  1.3483 
## 
## $`3`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.9650 -0.7077 -0.1829 -0.1032  0.6208  2.1483 
## 
## $`4`
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -2.64230 -0.78232 -0.01347 -0.07548  0.65618  2.51524 
## 
## $`5`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.0188 -0.6107 -0.1011 -0.1075  0.4499  1.5630 
## 
## $`6`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.5956 -0.9561 -0.2388 -0.2644  0.4475  1.7327 
## 
## $`7`
##       Min.    1st Qu.     Median       Mean    3rd Qu.       Max. 
## -2.9243373 -0.7038569  0.1053412 -0.0005778  0.7316039  1.8839329 
## 
## $`8`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.5335 -0.3597  0.1856  0.1587  0.7591  2.3308 
## 
## $`9`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -2.6203 -0.5564  0.2425  0.1658  0.7763  2.6168 
## 
## $`10`
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -2.14083 -0.72962 -0.02111 -0.10386  0.62612  2.85514 
## 
## $`11`
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -3.11675 -0.99581  0.04532 -0.12203  0.79012  1.80668 
## 
## $`12`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -4.1878 -0.6881 -0.1486 -0.1290  0.5859  2.2456 
## 
## $`13`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -1.8161 -0.2410  0.4141  0.2601  0.8460  2.1079 
## 
## $`14`
##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -2.451899 -0.662019  0.109399 -0.004264  0.809473  2.104428 
## 
## $`15`
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## -1.6821 -0.5576  0.1084  0.1137  0.6950  2.2350 
## 
## $`16`
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -2.10448 -0.69613 -0.06997 -0.04317  0.58445  2.05652 
## 
## $`17`
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -2.42392 -0.81607  0.01862 -0.02998  0.71808  2.13802 
## 
## $`18`
##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -1.992568 -0.686327  0.001155 -0.099508  0.443430  1.286475 
## 
## $`19`
##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -2.055761 -0.662668 -0.047047  0.001571  0.703365  2.236837 
## 
## $`20`
##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -2.549475 -0.745978 -0.004669 -0.109441  0.497708  1.977950 
## 
##                    1          2          3           4          5          6
## Min.    -2.023808554 -2.6547285 -2.9649611 -2.64229823 -2.0187733 -2.5956319
## 1st Qu. -0.684851524 -0.8961619 -0.7077084 -0.78231577 -0.6106665 -0.9561241
## Median   0.118985935 -0.5099944 -0.1828720 -0.01347025 -0.1011013 -0.2387765
## Mean     0.004773251 -0.3614416 -0.1032184 -0.07547811 -0.1075107 -0.2643586
## 3rd Qu.  0.768723687  0.3087770  0.6207764  0.65617823  0.4498810  0.4475143
## Max.     2.309323349  1.3483104  2.1483317  2.51524300  1.5630373  1.7326925
##                     7          8          9          10          11         12
## Min.    -2.9243373470 -2.5334852 -2.6202605 -2.14083096 -3.11674654 -4.1877899
## 1st Qu. -0.7038569029 -0.3596612 -0.5563819 -0.72962173 -0.99581319 -0.6881337
## Median   0.1053412314  0.1855706  0.2424985 -0.02110924  0.04532138 -0.1485765
## Mean    -0.0005777605  0.1586825  0.1658220 -0.10386292 -0.12203363 -0.1289630
## 3rd Qu.  0.7316038531  0.7590643  0.7762699  0.62611791  0.79012313  0.5859489
## Max.     1.8839329254  2.3308011  2.6167643  2.85513993  1.80668457  2.2455669
##                 13           14         15          16          17           18
## Min.    -1.8161241 -2.451898829 -1.6821337 -2.10448370 -2.42392353 -1.992567824
## 1st Qu. -0.2410045 -0.662019384 -0.5576131 -0.69613292 -0.81606872 -0.686326790
## Median   0.4140504  0.109399422  0.1083846 -0.06996572  0.01862196  0.001155288
## Mean     0.2601381 -0.004263628  0.1137238 -0.04317363 -0.02998245 -0.099508210
## 3rd Qu.  0.8459700  0.809472504  0.6950108  0.58444802  0.71807863  0.443430189
## Max.     2.1079030  2.104428435  2.2350166  2.05651663  2.13801627  1.286474881
##                   19           20
## Min.    -2.055760991 -2.549474856
## 1st Qu. -0.662667923 -0.745978326
## Median  -0.047046586 -0.004669294
## Mean     0.001571528 -0.109441310
## 3rd Qu.  0.703364775  0.497708433
## Max.     2.236837125  1.977950217</code></pre>
</div>
</div>
</div>
</div>
<div id="extras" class="section level1">
<h1><span class="header-section-number">5</span> Extras</h1>
<ol style="list-style-type: decimal">
<li>Design a S3 class that should hold information on human proteins. The data needed for each protein is:</li>
</ol>
<ul>
<li>The gene that encodes it</li>
<li>The molecular weight of the protein</li>
<li>The length of the protein sequence</li>
<li>Information on who and when it was discovered</li>
<li>Protein assay data</li>
</ul>
<p>Create this hypothetical S3 object in R.</p>
<ol start="2" style="list-style-type: decimal">
<li>Among the test data sets that are part of base R, there is one called <strong>iris</strong>. It contains measurements on set of plants. You can access the data using by typing <code>iris</code> in R. Explore this data set and calculate some useful summary statistics, like SD, mean and median for the parts of the data where this makes sense. Calculate the same statistics for any grouping that you can find in the data.</li>
</ol>
</div>


<footer class="footer">
<div class="container footer-container">
<div class="row">
  
<div class="col-sm-8" style="text-align:left;vertical-align:middle;">
<p class="small" style="color:#bdbdbd;">
<b>2020</b> • NBIS • SciLifeLab
</p>
</div>

<div class="col-sm-4" style="text-align:right;vertical-align:middle;">
<p style="color:#bdbdbd;">
<span>
  <span class="footericon" style="padding-right:4px; padding-left:4px">
    <a href="https://nbis.se/">
      <svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 496 512"><path d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"></path>
      </svg>
    </a>
    </span>
    <span class="footericon" style="padding-right:4px; padding-left:4px">
      <a href="https://twitter.com/NBISwe"><svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
    </svg>
    </a>
    </span>
    <span class="footericon" style="padding-left:4px">
      <a href="https://www.linkedin.com/company/nbisweden/">
        <svg style="height:0.8em;top:.04em;position:relative;fill:#bdbdbd;" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
        </svg>
    </a>
    </span>
  </span>
</p>
</div>

</div>
</div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
